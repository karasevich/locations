<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–æ—è –≥–µ–æ–ø–æ–∑–∏—Ü—ñ—è</title>
</head>
<body style="font-family:sans-serif;text-align:center;margin-top:50px;">
  <h2>–î–æ–¥–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω—É –≥–µ–æ–ø–æ–∑–∏—Ü—ñ—é</h2>
  <button onclick="sendLocation()" style="padding:10px 20px;font-size:16px;">üìç –î–æ–¥–∞—Ç–∏ –ø–æ–∑–∏—Ü—ñ—é</button>
  <p id="status"></p>

  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbxpp-yPCe1f3AA8V7BiZPBQdKEWP4SNqYbYVVICcAdbLnggvClaNitvZM-aaDEWkUjOFA/exec";

    function sendLocation() {
      document.getElementById("status").textContent = "–û—Ç—Ä–∏–º—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏...";
      if (!navigator.geolocation) {
        return document.getElementById("status").textContent = "–ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è.";
      }
      navigator.geolocation.getCurrentPosition(pos => {
        const data = {
          latitude: pos.coords.latitude,
          longitude: pos.coords.longitude,
          note: "–ó —Ç–µ–ª–µ—Ñ–æ–Ω—É"
        };
        fetch(scriptURL, {
          method: "POST",
          mode: "no-cors",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });
        document.getElementById("status").textContent = "‚úÖ –ü–æ–∑–∏—Ü—ñ—é –¥–æ–¥–∞–Ω–æ!";
      }, err => {
        document.getElementById("status").textContent = "–ü–æ–º–∏–ª–∫–∞: " + err.message;
      });
    }
  </script>
</body>
</html>
